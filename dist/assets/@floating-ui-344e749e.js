import{g as Ln}from"./@babel-366e0318.js";import{r as m,R as en}from"./react-7d7140ba.js";import{h as Mn}from"./aria-hidden-5468b753.js";import{t as Ue}from"./tabbable-6ab97b54.js";import{r as be}from"./react-dom-0fd500ea.js";const tn=["top","right","bottom","left"],Dt=["start","end"],Ft=tn.reduce((e,t)=>e.concat(t,t+"-"+Dt[0],t+"-"+Dt[1]),[]),le=Math.min,U=Math.max,Ze=Math.round,Ke=Math.floor,we=e=>({x:e,y:e}),Dn={left:"right",right:"left",bottom:"top",top:"bottom"},Fn={start:"end",end:"start"};function pt(e,t,n){return U(e,le(t,n))}function ue(e,t){return typeof e=="function"?e(t):e}function te(e){return e.split("-")[0]}function ce(e){return e.split("-")[1]}function wt(e){return e==="x"?"y":"x"}function xt(e){return e==="y"?"height":"width"}function he(e){return["top","bottom"].includes(te(e))?"y":"x"}function Rt(e){return wt(he(e))}function nn(e,t,n){n===void 0&&(n=!1);const r=ce(e),o=Rt(e),i=xt(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Qe(s)),[s,Qe(s)]}function kn(e){const t=Qe(e);return[Je(e),t,Je(t)]}function Je(e){return e.replace(/start|end/g,t=>Fn[t])}function Nn(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function Bn(e,t,n,r){const o=ce(e);let i=Nn(te(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Je)))),i}function Qe(e){return e.replace(/left|right|bottom|top/g,t=>Dn[t])}function Hn(e){return{top:0,right:0,bottom:0,left:0,...e}}function Et(e){return typeof e!="number"?Hn(e):{top:e,right:e,bottom:e,left:e}}function Se(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function kt(e,t,n){let{reference:r,floating:o}=e;const i=he(t),s=Rt(t),c=xt(s),a=te(t),u=i==="y",g=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,d=r[c]/2-o[c]/2;let f;switch(a){case"top":f={x:g,y:r.y-o.height};break;case"bottom":f={x:g,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-o.width,y:h};break;default:f={x:r.x,y:r.y}}switch(ce(t)){case"start":f[s]-=d*(n&&u?-1:1);break;case"end":f[s]+=d*(n&&u?-1:1);break}return f}const _n=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),a=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:h}=kt(u,r,a),d=r,f={},v=0;for(let p=0;p<c.length;p++){const{name:y,fn:b}=c[p],{x:E,y:x,data:T,reset:w}=await b({x:g,y:h,initialPlacement:r,placement:d,strategy:o,middlewareData:f,rects:u,platform:s,elements:{reference:e,floating:t}});g=E??g,h=x??h,f={...f,[y]:{...f[y],...T}},w&&v<=50&&(v++,typeof w=="object"&&(w.placement&&(d=w.placement),w.rects&&(u=w.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):w.rects),{x:g,y:h}=kt(u,d,a)),p=-1)}return{x:g,y:h,placement:d,strategy:o,middlewareData:f}};async function Re(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:a}=e,{boundary:u="clippingAncestors",rootBoundary:g="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=ue(t,e),v=Et(f),y=c[d?h==="floating"?"reference":"floating":h],b=Se(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:g,strategy:a})),E=h==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),T=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},w=Se(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:x,strategy:a}):E);return{top:(b.top-w.top+v.top)/T.y,bottom:(w.bottom-b.bottom+v.bottom)/T.y,left:(b.left-w.left+v.left)/T.x,right:(w.right-b.right+v.right)/T.x}}const Vn=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:c,middlewareData:a}=t,{element:u,padding:g=0}=ue(e,t)||{};if(u==null)return{};const h=Et(g),d={x:n,y:r},f=Rt(o),v=xt(f),p=await s.getDimensions(u),y=f==="y",b=y?"top":"left",E=y?"bottom":"right",x=y?"clientHeight":"clientWidth",T=i.reference[v]+i.reference[f]-d[f]-i.floating[v],w=d[f]-i.reference[f],M=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let k=M?M[x]:0;(!k||!await(s.isElement==null?void 0:s.isElement(M)))&&(k=c.floating[x]||i.floating[v]);const _=T/2-w/2,S=k/2-p[v]/2-1,R=le(h[b],S),l=le(h[E],S),D=R,P=k-p[v]-l,O=k/2-p[v]/2+_,I=pt(D,O,P),N=!a.arrow&&ce(o)!=null&&O!==I&&i.reference[v]/2-(O<D?R:l)-p[v]/2<0,V=N?O<D?O-D:O-P:0;return{[f]:d[f]+V,data:{[f]:I,centerOffset:O-I-V,...N&&{alignmentOffset:V}},reset:N}}});function Wn(e,t,n){return(e?[...n.filter(o=>ce(o)===e),...n.filter(o=>ce(o)!==e)]:n.filter(o=>te(o)===o)).filter(o=>e?ce(o)===e||(t?Je(o)!==o:!1):!0)}const $n=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:s,placement:c,platform:a,elements:u}=t,{crossAxis:g=!1,alignment:h,allowedPlacements:d=Ft,autoAlignment:f=!0,...v}=ue(e,t),p=h!==void 0||d===Ft?Wn(h||null,f,d):d,y=await Re(t,v),b=((n=s.autoPlacement)==null?void 0:n.index)||0,E=p[b];if(E==null)return{};const x=nn(E,i,await(a.isRTL==null?void 0:a.isRTL(u.floating)));if(c!==E)return{reset:{placement:p[0]}};const T=[y[te(E)],y[x[0]],y[x[1]]],w=[...((r=s.autoPlacement)==null?void 0:r.overflows)||[],{placement:E,overflows:T}],M=p[b+1];if(M)return{data:{index:b+1,overflows:w},reset:{placement:M}};const k=w.map(R=>{const l=ce(R.placement);return[R.placement,l&&g?R.overflows.slice(0,2).reduce((D,P)=>D+P,0):R.overflows[0],R.overflows]}).sort((R,l)=>R[1]-l[1]),S=((o=k.filter(R=>R[2].slice(0,ce(R[0])?2:3).every(l=>l<=0))[0])==null?void 0:o[0])||k[0][0];return S!==c?{data:{index:b+1,overflows:w},reset:{placement:S}}:{}}}},Kn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:a,elements:u}=t,{mainAxis:g=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:p=!0,...y}=ue(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=te(o),E=he(c),x=te(c)===c,T=await(a.isRTL==null?void 0:a.isRTL(u.floating)),w=d||(x||!p?[Qe(c)]:kn(c)),M=v!=="none";!d&&M&&w.push(...Bn(c,p,v,T));const k=[c,...w],_=await Re(t,y),S=[];let R=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&S.push(_[b]),h){const O=nn(o,s,T);S.push(_[O[0]],_[O[1]])}if(R=[...R,{placement:o,overflows:S}],!S.every(O=>O<=0)){var l,D;const O=(((l=i.flip)==null?void 0:l.index)||0)+1,I=k[O];if(I)return{data:{index:O,overflows:R},reset:{placement:I}};let N=(D=R.filter(V=>V.overflows[0]<=0).sort((V,C)=>V.overflows[1]-C.overflows[1])[0])==null?void 0:D.placement;if(!N)switch(f){case"bestFit":{var P;const V=(P=R.filter(C=>{if(M){const L=he(C.placement);return L===E||L==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(L=>L>0).reduce((L,A)=>L+A,0)]).sort((C,L)=>C[1]-L[1])[0])==null?void 0:P[0];V&&(N=V);break}case"initialPlacement":N=c;break}if(o!==N)return{reset:{placement:N}}}return{}}}};function Nt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Bt(e){return tn.some(t=>e[t]>=0)}const jn=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=ue(e,t);switch(r){case"referenceHidden":{const i=await Re(t,{...o,elementContext:"reference"}),s=Nt(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Bt(s)}}}case"escaped":{const i=await Re(t,{...o,altBoundary:!0}),s=Nt(i,n.floating);return{data:{escapedOffsets:s,escaped:Bt(s)}}}default:return{}}}}};function rn(e){const t=le(...e.map(i=>i.left)),n=le(...e.map(i=>i.top)),r=U(...e.map(i=>i.right)),o=U(...e.map(i=>i.bottom));return{x:t,y:n,width:r-t,height:o-n}}function zn(e){const t=e.slice().sort((o,i)=>o.y-i.y),n=[];let r=null;for(let o=0;o<t.length;o++){const i=t[o];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(o=>Se(rn(o)))}const Yn=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:i,strategy:s}=t,{padding:c=2,x:a,y:u}=ue(e,t),g=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),h=zn(g),d=Se(rn(g)),f=Et(c);function v(){if(h.length===2&&h[0].left>h[1].right&&a!=null&&u!=null)return h.find(y=>a>y.left-f.left&&a<y.right+f.right&&u>y.top-f.top&&u<y.bottom+f.bottom)||d;if(h.length>=2){if(he(n)==="y"){const R=h[0],l=h[h.length-1],D=te(n)==="top",P=R.top,O=l.bottom,I=D?R.left:l.left,N=D?R.right:l.right,V=N-I,C=O-P;return{top:P,bottom:O,left:I,right:N,width:V,height:C,x:I,y:P}}const y=te(n)==="left",b=U(...h.map(R=>R.right)),E=le(...h.map(R=>R.left)),x=h.filter(R=>y?R.left===E:R.right===b),T=x[0].top,w=x[x.length-1].bottom,M=E,k=b,_=k-M,S=w-T;return{top:T,bottom:w,left:M,right:k,width:_,height:S,x:M,y:T}}return d}const p=await i.getElementRects({reference:{getBoundingClientRect:v},floating:r.floating,strategy:s});return o.reference.x!==p.reference.x||o.reference.y!==p.reference.y||o.reference.width!==p.reference.width||o.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}};async function Xn(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=te(n),c=ce(n),a=he(n)==="y",u=["left","top"].includes(s)?-1:1,g=i&&a?-1:1,h=ue(t,e);let{mainAxis:d,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&typeof v=="number"&&(f=c==="end"?v*-1:v),a?{x:f*g,y:d*u}:{x:d*u,y:f*g}}const qn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:c}=t,a=await Xn(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+a.x,y:i+a.y,data:{...a,placement:s}}}}},Gn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:y=>{let{x:b,y:E}=y;return{x:b,y:E}}},...a}=ue(e,t),u={x:n,y:r},g=await Re(t,a),h=he(te(o)),d=wt(h);let f=u[d],v=u[h];if(i){const y=d==="y"?"top":"left",b=d==="y"?"bottom":"right",E=f+g[y],x=f-g[b];f=pt(E,f,x)}if(s){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",E=v+g[y],x=v-g[b];v=pt(E,v,x)}const p=c.fn({...t,[d]:f,[h]:v});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[d]:i,[h]:s}}}}}},Un=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:c=0,mainAxis:a=!0,crossAxis:u=!0}=ue(e,t),g={x:n,y:r},h=he(o),d=wt(h);let f=g[d],v=g[h];const p=ue(c,t),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(a){const x=d==="y"?"height":"width",T=i.reference[d]-i.floating[x]+y.mainAxis,w=i.reference[d]+i.reference[x]-y.mainAxis;f<T?f=T:f>w&&(f=w)}if(u){var b,E;const x=d==="y"?"width":"height",T=["top","left"].includes(te(o)),w=i.reference[h]-i.floating[x]+(T&&((b=s.offset)==null?void 0:b[h])||0)+(T?0:y.crossAxis),M=i.reference[h]+i.reference[x]+(T?0:((E=s.offset)==null?void 0:E[h])||0)-(T?y.crossAxis:0);v<w?v=w:v>M&&(v=M)}return{[d]:f,[h]:v}}}},Zn=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:i,platform:s,elements:c}=t,{apply:a=()=>{},...u}=ue(e,t),g=await Re(t,u),h=te(o),d=ce(o),f=he(o)==="y",{width:v,height:p}=i.floating;let y,b;h==="top"||h==="bottom"?(y=h,b=d===(await(s.isRTL==null?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(b=h,y=d==="end"?"top":"bottom");const E=p-g.top-g.bottom,x=v-g.left-g.right,T=le(p-g[y],E),w=le(v-g[b],x),M=!t.middlewareData.shift;let k=T,_=w;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=E),M&&!d){const R=U(g.left,0),l=U(g.right,0),D=U(g.top,0),P=U(g.bottom,0);f?_=v-2*(R!==0||l!==0?R+l:U(g.left,g.right)):k=p-2*(D!==0||P!==0?D+P:U(g.top,g.bottom))}await a({...t,availableWidth:_,availableHeight:k});const S=await s.getDimensions(c.floating);return v!==S.width||p!==S.height?{reset:{rects:!0}}:{}}}};function ot(){return typeof window<"u"}function Me(e){return on(e)?(e.nodeName||"").toLowerCase():"#document"}function ee(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function me(e){var t;return(t=(on(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function on(e){return ot()?e instanceof Node||e instanceof ee(e).Node:!1}function ae(e){return ot()?e instanceof Element||e instanceof ee(e).Element:!1}function de(e){return ot()?e instanceof HTMLElement||e instanceof ee(e).HTMLElement:!1}function Ht(e){return!ot()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ee(e).ShadowRoot}function We(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=fe(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Jn(e){return["table","td","th"].includes(Me(e))}function it(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Tt(e){const t=Ot(),n=ae(e)?fe(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Qn(e){let t=xe(e);for(;de(t)&&!Ie(t);){if(Tt(t))return t;if(it(t))return null;t=xe(t)}return null}function Ot(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ie(e){return["html","body","#document"].includes(Me(e))}function fe(e){return ee(e).getComputedStyle(e)}function st(e){return ae(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function xe(e){if(Me(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ht(e)&&e.host||me(e);return Ht(t)?t.host:t}function sn(e){const t=xe(e);return Ie(t)?e.ownerDocument?e.ownerDocument.body:e.body:de(t)&&We(t)?t:sn(t)}function pe(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=sn(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ee(o);if(i){const c=ht(s);return t.concat(s,s.visualViewport||[],We(o)?o:[],c&&n?pe(c):[])}return t.concat(o,pe(o,[],n))}function ht(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function cn(e){const t=fe(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=de(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=Ze(n)!==i||Ze(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function Ct(e){return ae(e)?e:e.contextElement}function Ae(e){const t=Ct(e);if(!de(t))return we(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=cn(t);let s=(i?Ze(n.width):n.width)/r,c=(i?Ze(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const er=we(0);function ln(e){const t=ee(e);return!Ot()||!t.visualViewport?er:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tr(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ee(e)?!1:t}function Ee(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Ct(e);let s=we(1);t&&(r?ae(r)&&(s=Ae(r)):s=Ae(e));const c=tr(i,n,r)?ln(i):we(0);let a=(o.left+c.x)/s.x,u=(o.top+c.y)/s.y,g=o.width/s.x,h=o.height/s.y;if(i){const d=ee(i),f=r&&ae(r)?ee(r):r;let v=d,p=ht(v);for(;p&&r&&f!==v;){const y=Ae(p),b=p.getBoundingClientRect(),E=fe(p),x=b.left+(p.clientLeft+parseFloat(E.paddingLeft))*y.x,T=b.top+(p.clientTop+parseFloat(E.paddingTop))*y.y;a*=y.x,u*=y.y,g*=y.x,h*=y.y,a+=x,u+=T,v=ee(p),p=ht(v)}}return Se({width:g,height:h,x:a,y:u})}function nr(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=me(r),c=t?it(t.floating):!1;if(r===s||c&&i)return n;let a={scrollLeft:0,scrollTop:0},u=we(1);const g=we(0),h=de(r);if((h||!h&&!i)&&((Me(r)!=="body"||We(s))&&(a=st(r)),de(r))){const d=Ee(r);u=Ae(r),g.x=d.x+r.clientLeft,g.y=d.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-a.scrollLeft*u.x+g.x,y:n.y*u.y-a.scrollTop*u.y+g.y}}function rr(e){return Array.from(e.getClientRects())}function vt(e,t){const n=st(e).scrollLeft;return t?t.left+n:Ee(me(e)).left+n}function or(e){const t=me(e),n=st(e),r=e.ownerDocument.body,o=U(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=U(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+vt(e);const c=-n.scrollTop;return fe(r).direction==="rtl"&&(s+=U(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function ir(e,t){const n=ee(e),r=me(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,a=0;if(o){i=o.width,s=o.height;const u=Ot();(!u||u&&t==="fixed")&&(c=o.offsetLeft,a=o.offsetTop)}return{width:i,height:s,x:c,y:a}}function sr(e,t){const n=Ee(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=de(e)?Ae(e):we(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,a=o*i.x,u=r*i.y;return{width:s,height:c,x:a,y:u}}function _t(e,t,n){let r;if(t==="viewport")r=ir(e,n);else if(t==="document")r=or(me(e));else if(ae(t))r=sr(t,n);else{const o=ln(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Se(r)}function un(e,t){const n=xe(e);return n===t||!ae(n)||Ie(n)?!1:fe(n).position==="fixed"||un(n,t)}function cr(e,t){const n=t.get(e);if(n)return n;let r=pe(e,[],!1).filter(c=>ae(c)&&Me(c)!=="body"),o=null;const i=fe(e).position==="fixed";let s=i?xe(e):e;for(;ae(s)&&!Ie(s);){const c=fe(s),a=Tt(s);!a&&c.position==="fixed"&&(o=null),(i?!a&&!o:!a&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||We(s)&&!a&&un(e,s))?r=r.filter(g=>g!==s):o=c,s=xe(s)}return t.set(e,r),r}function lr(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?it(t)?[]:cr(t,this._c):[].concat(n),r],c=s[0],a=s.reduce((u,g)=>{const h=_t(t,g,o);return u.top=U(h.top,u.top),u.right=le(h.right,u.right),u.bottom=le(h.bottom,u.bottom),u.left=U(h.left,u.left),u},_t(t,c,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function ur(e){const{width:t,height:n}=cn(e);return{width:t,height:n}}function ar(e,t,n){const r=de(t),o=me(t),i=n==="fixed",s=Ee(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const a=we(0);if(r||!r&&!i)if((Me(t)!=="body"||We(o))&&(c=st(t)),r){const f=Ee(t,!0,i,t);a.x=f.x+t.clientLeft,a.y=f.y+t.clientTop}else o&&(a.x=vt(o));let u=0,g=0;if(o&&!r&&!i){const f=o.getBoundingClientRect();g=f.top+c.scrollTop,u=f.left+c.scrollLeft-vt(o,f)}const h=s.left+c.scrollLeft-a.x-u,d=s.top+c.scrollTop-a.y-g;return{x:h,y:d,width:s.width,height:s.height}}function at(e){return fe(e).position==="static"}function Vt(e,t){if(!de(e)||fe(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return me(e)===n&&(n=n.ownerDocument.body),n}function an(e,t){const n=ee(e);if(it(e))return n;if(!de(e)){let o=xe(e);for(;o&&!Ie(o);){if(ae(o)&&!at(o))return o;o=xe(o)}return n}let r=Vt(e,t);for(;r&&Jn(r)&&at(r);)r=Vt(r,t);return r&&Ie(r)&&at(r)&&!Tt(r)?n:r||Qn(e)||n}const fr=async function(e){const t=this.getOffsetParent||an,n=this.getDimensions,r=await n(e.floating);return{reference:ar(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function dr(e){return fe(e).direction==="rtl"}const fn={convertOffsetParentRelativeRectToViewportRelativeRect:nr,getDocumentElement:me,getClippingRect:lr,getOffsetParent:an,getElementRects:fr,getClientRects:rr,getDimensions:ur,getScale:Ae,isElement:ae,isRTL:dr};function mr(e,t){let n=null,r;const o=me(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),i();const{left:u,top:g,width:h,height:d}=e.getBoundingClientRect();if(c||t(),!h||!d)return;const f=Ke(g),v=Ke(o.clientWidth-(u+h)),p=Ke(o.clientHeight-(g+d)),y=Ke(u),E={rootMargin:-f+"px "+-v+"px "+-p+"px "+-y+"px",threshold:U(0,le(1,a))||1};let x=!0;function T(w){const M=w[0].intersectionRatio;if(M!==a){if(!x)return s();M?s(!1,M):r=setTimeout(()=>{s(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(T,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(T,E)}n.observe(e)}return s(!0),i}function gr(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,u=Ct(e),g=o||i?[...u?pe(u):[],...pe(t)]:[];g.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const h=u&&c?mr(u,n):null;let d=-1,f=null;s&&(f=new ResizeObserver(b=>{let[E]=b;E&&E.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=f)==null||x.observe(t)})),n()}),u&&!a&&f.observe(u),f.observe(t));let v,p=a?Ee(e):null;a&&y();function y(){const b=Ee(e);p&&(b.x!==p.x||b.y!==p.y||b.width!==p.width||b.height!==p.height)&&n(),p=b,v=requestAnimationFrame(y)}return n(),()=>{var b;g.forEach(E=>{o&&E.removeEventListener("scroll",n),i&&E.removeEventListener("resize",n)}),h==null||h(),(b=f)==null||b.disconnect(),f=null,a&&cancelAnimationFrame(v)}}const Ye=Re,dn=qn,pr=$n,hr=Gn,vr=Kn,yr=Zn,br=jn,Wt=Vn,wr=Yn,xr=Un,mn=(e,t,n)=>{const r=new Map,o={platform:fn,...n},i={...o.platform,_c:r};return _n(e,t,{...o,platform:i})},Rr=e=>{const{element:t,padding:n}=e;function r(o){return Object.prototype.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return r(t)?t.current!=null?Wt({element:t.current,padding:n}).fn(o):{}:t?Wt({element:t,padding:n}).fn(o):{}}}};var Xe=typeof document<"u"?m.useLayoutEffect:m.useEffect;function et(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!et(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!et(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function $t(e){const t=m.useRef(e);return Xe(()=>{t.current=e}),t}function Er(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,whileElementsMounted:i,open:s}=e,[c,a]=m.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[u,g]=m.useState(r);et(u,r)||g(r);const h=m.useRef(null),d=m.useRef(null),f=m.useRef(c),v=$t(i),p=$t(o),[y,b]=m.useState(null),[E,x]=m.useState(null),T=m.useCallback(R=>{h.current!==R&&(h.current=R,b(R))},[]),w=m.useCallback(R=>{d.current!==R&&(d.current=R,x(R))},[]),M=m.useCallback(()=>{if(!h.current||!d.current)return;const R={placement:t,strategy:n,middleware:u};p.current&&(R.platform=p.current),mn(h.current,d.current,R).then(l=>{const D={...l,isPositioned:!0};k.current&&!et(f.current,D)&&(f.current=D,be.flushSync(()=>{a(D)}))})},[u,t,n,p]);Xe(()=>{s===!1&&f.current.isPositioned&&(f.current.isPositioned=!1,a(R=>({...R,isPositioned:!1})))},[s]);const k=m.useRef(!1);Xe(()=>(k.current=!0,()=>{k.current=!1}),[]),Xe(()=>{if(y&&E){if(v.current)return v.current(y,E,M);M()}},[y,E,M,v]);const _=m.useMemo(()=>({reference:h,floating:d,setReference:T,setFloating:w}),[T,w]),S=m.useMemo(()=>({reference:y,floating:E}),[y,E]);return m.useMemo(()=>({...c,update:M,refs:_,elements:S,reference:T,floating:w}),[c,M,_,S,T,w])}var z=typeof document<"u"?m.useLayoutEffect:m.useEffect;let ft=!1,Tr=0;const Kt=()=>"floating-ui-"+Tr++;function Or(){const[e,t]=m.useState(()=>ft?Kt():void 0);return z(()=>{e==null&&t(Kt())},[]),m.useEffect(()=>{ft||(ft=!0)},[]),e}const Cr=en["useId".toString()],_e=Cr||Or;function gn(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const pn=m.createContext(null),hn=m.createContext(null),De=()=>{var e;return((e=m.useContext(pn))==null?void 0:e.id)||null},Ce=()=>m.useContext(hn),Pr=e=>{const t=_e(),n=Ce(),r=De(),o=e||r;return z(()=>{const i={id:t,parentId:o};return n==null||n.addNode(i),()=>{n==null||n.removeNode(i)}},[n,t,o]),t},Ar=e=>{let{children:t,id:n}=e;const r=De();return m.createElement(pn.Provider,{value:m.useMemo(()=>({id:n,parentId:r}),[n,r])},t)},Sr=e=>{let{children:t}=e;const n=m.useRef([]),r=m.useCallback(s=>{n.current=[...n.current,s]},[]),o=m.useCallback(s=>{n.current=n.current.filter(c=>c!==s)},[]),i=m.useState(()=>gn())[0];return m.createElement(hn.Provider,{value:m.useMemo(()=>({nodesRef:n,addNode:r,removeNode:o,events:i}),[n,r,o,i])},t)};function J(e){return(e==null?void 0:e.ownerDocument)||document}function Pt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function vn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function At(e){return J(e).defaultView||window}function oe(e){return e?e instanceof At(e).Element:!1}function Te(e){return e?e instanceof At(e).HTMLElement:!1}function Ir(e){if(typeof ShadowRoot>"u")return!1;const t=At(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function yn(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(Pt())||t.test(vn()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function bn(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function yt(){return/apple/i.test(navigator.vendor)}function wn(){return Pt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function tt(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function ie(e){const t=m.useRef(e);return z(()=>{t.current=e}),t}const jt="data-floating-ui-safe-polygon";function qe(e,t,n){return n&&!tt(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const Lr=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:o=null,mouseOnly:i=!1,restMs:s=0,move:c=!0}=t===void 0?{}:t;const{open:a,onOpenChange:u,dataRef:g,events:h,elements:{domReference:d,floating:f},refs:v}=e,p=Ce(),y=De(),b=ie(o),E=ie(r),x=m.useRef(),T=m.useRef(),w=m.useRef(),M=m.useRef(),k=m.useRef(!0),_=m.useRef(!1),S=m.useRef(()=>{}),R=m.useCallback(()=>{var O;const I=(O=g.current.openEvent)==null?void 0:O.type;return(I==null?void 0:I.includes("mouse"))&&I!=="mousedown"},[g]);m.useEffect(()=>{if(!n)return;function O(){clearTimeout(T.current),clearTimeout(M.current),k.current=!0}return h.on("dismiss",O),()=>{h.off("dismiss",O)}},[n,h]),m.useEffect(()=>{if(!n||!b.current||!a)return;function O(){R()&&u(!1)}const I=J(f).documentElement;return I.addEventListener("mouseleave",O),()=>{I.removeEventListener("mouseleave",O)}},[f,a,u,n,b,g,R]);const l=m.useCallback(function(O){O===void 0&&(O=!0);const I=qe(E.current,"close",x.current);I&&!w.current?(clearTimeout(T.current),T.current=setTimeout(()=>u(!1),I)):O&&(clearTimeout(T.current),u(!1))},[E,u]),D=m.useCallback(()=>{S.current(),w.current=void 0},[]),P=m.useCallback(()=>{if(_.current){const O=J(v.floating.current).body;O.style.pointerEvents="",O.removeAttribute(jt),_.current=!1}},[v]);return m.useEffect(()=>{if(!n)return;function O(){return g.current.openEvent?["click","mousedown"].includes(g.current.openEvent.type):!1}function I(C){if(clearTimeout(T.current),k.current=!1,i&&!tt(x.current)||s>0&&qe(E.current,"open")===0)return;g.current.openEvent=C;const L=qe(E.current,"open",x.current);L?T.current=setTimeout(()=>{u(!0)},L):u(!0)}function N(C){if(O())return;S.current();const L=J(f);if(clearTimeout(M.current),b.current){clearTimeout(T.current),w.current=b.current({...e,tree:p,x:C.clientX,y:C.clientY,onClose(){P(),D(),l()}});const A=w.current;L.addEventListener("mousemove",A),S.current=()=>{L.removeEventListener("mousemove",A)};return}l()}function V(C){O()||b.current==null||b.current({...e,tree:p,x:C.clientX,y:C.clientY,onClose(){D(),l()}})(C)}if(oe(d)){const C=d;return a&&C.addEventListener("mouseleave",V),f==null||f.addEventListener("mouseleave",V),c&&C.addEventListener("mousemove",I,{once:!0}),C.addEventListener("mouseenter",I),C.addEventListener("mouseleave",N),()=>{a&&C.removeEventListener("mouseleave",V),f==null||f.removeEventListener("mouseleave",V),c&&C.removeEventListener("mousemove",I),C.removeEventListener("mouseenter",I),C.removeEventListener("mouseleave",N)}}},[d,f,n,e,i,s,c,l,D,P,u,a,p,E,b,g]),z(()=>{var O;if(n&&a&&(O=b.current)!=null&&O.__options.blockPointerEvents&&R()){const V=J(f).body;if(V.setAttribute(jt,""),V.style.pointerEvents="none",_.current=!0,oe(d)&&f){var I,N;const C=d,L=p==null||(I=p.nodesRef.current.find(A=>A.id===y))==null||(N=I.context)==null?void 0:N.elements.floating;return L&&(L.style.pointerEvents=""),C.style.pointerEvents="auto",f.style.pointerEvents="auto",()=>{C.style.pointerEvents="",f.style.pointerEvents=""}}}},[n,a,y,f,d,p,b,g,R]),z(()=>{a||(x.current=void 0,D(),P())},[a,D,P]),m.useEffect(()=>()=>{D(),clearTimeout(T.current),clearTimeout(M.current),P()},[n,D,P]),m.useMemo(()=>{if(!n)return{};function O(I){x.current=I.pointerType}return{reference:{onPointerDown:O,onPointerEnter:O,onMouseMove(){a||s===0||(clearTimeout(M.current),M.current=setTimeout(()=>{k.current||u(!0)},s))}},floating:{onMouseEnter(){clearTimeout(T.current)},onMouseLeave(){h.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),l(!1)}}}},[h,n,s,a,u,l])},xn=m.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),Rn=()=>m.useContext(xn),Mr=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[o,i]=m.useReducer((a,u)=>({...a,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=m.useRef(null),c=m.useCallback(a=>{i({currentId:a})},[]);return z(()=>{o.currentId?s.current===null?s.current=o.currentId:i({isInstantPhase:!0}):(i({isInstantPhase:!1}),s.current=null)},[o.currentId]),m.createElement(xn.Provider,{value:m.useMemo(()=>({...o,setState:i,setCurrentId:c}),[o,i,c])},t)},Dr=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:o}=t;const{currentId:i,setCurrentId:s,initialDelay:c,setState:a,timeoutMs:u}=Rn();m.useEffect(()=>{i&&(a({delay:{open:1,close:qe(c,"close")}}),i!==o&&r(!1))},[o,r,a,i,c]),m.useEffect(()=>{function g(){r(!1),a({delay:c,currentId:null})}if(!n&&i===o)if(u){const h=window.setTimeout(g,u);return()=>{clearTimeout(h)}}else g()},[n,a,i,o,r,c,u]),m.useEffect(()=>{n&&s(o)},[n,s,o])};function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function Oe(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function Z(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Ir(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}let zt=0;function ye(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(zt);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():zt=requestAnimationFrame(i)}function Fr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Be(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)})||[],r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})})||[],n=n.concat(r);return n}function ct(e){return"composedPath"in e?e.composedPath()[0]:e.target}const kr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function En(e){return Te(e)&&e.matches(kr)}function re(e){e.preventDefault(),e.stopPropagation()}const nt=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Tn(e,t){const n=Ue(e,nt());t==="prev"&&n.reverse();const r=n.indexOf(Oe(J(e)));return n.slice(r+1)[0]}function On(){return Tn(document.body,"next")}function Cn(){return Tn(document.body,"prev")}function He(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Z(n,r)}function Nr(e){Ue(e,nt()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Br(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Hr=en["useInsertionEffect".toString()],_r=Hr||(e=>e());function Fe(e){const t=m.useRef(()=>{});return _r(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const St={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let bt,It;function Yt(e){e.key==="Tab"&&(bt=e.target,clearTimeout(It))}function Vr(e){const t=bt===e.relatedTarget;return bt=e.relatedTarget,clearTimeout(It),t}const rt=m.forwardRef(function(t,n){const r=Fe(t.onFocus),[o,i]=m.useState();return z(()=>(yt()&&i("button"),document.addEventListener("keydown",Yt),()=>{document.removeEventListener("keydown",Yt)}),[]),m.createElement("span",Ve({},t,{ref:n,tabIndex:0,role:o,"aria-hidden":o?void 0:!0,"data-floating-ui-focus-guard":"",style:St,onFocus:s=>{yt()&&wn()&&!Vr(s)?(s.persist(),It=window.setTimeout(()=>{r(s)},50)):r(s)}}))}),Pn=m.createContext(null),An=function(e){let{id:t,enabled:n=!0}=e===void 0?{}:e;const[r,o]=m.useState(null),i=_e(),s=Sn();return z(()=>{if(!n)return;const c=t?document.getElementById(t):null;if(c)c.setAttribute("data-floating-ui-portal",""),o(c);else{const a=document.createElement("div");t!==""&&(a.id=t||i),a.setAttribute("data-floating-ui-portal",""),o(a);const u=(s==null?void 0:s.portalNode)||document.body;return u.appendChild(a),()=>{u.removeChild(a)}}},[t,s,i,n]),r},Wr=e=>{let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=An({id:n,enabled:!r}),[s,c]=m.useState(null),a=m.useRef(null),u=m.useRef(null),g=m.useRef(null),h=m.useRef(null),d=!!s&&!s.modal&&!!(r||i)&&o;return m.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function f(v){i&&He(v)&&(v.type==="focusin"?Br:Nr)(i)}return i.addEventListener("focusin",f,!0),i.addEventListener("focusout",f,!0),()=>{i.removeEventListener("focusin",f,!0),i.removeEventListener("focusout",f,!0)}},[i,o,s==null?void 0:s.modal]),m.createElement(Pn.Provider,{value:m.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:a,afterOutsideRef:u,beforeInsideRef:g,afterInsideRef:h,portalNode:i,setFocusManagerState:c}),[o,i])},d&&i&&m.createElement(rt,{"data-type":"outside",ref:a,onFocus:f=>{if(He(f,i)){var v;(v=g.current)==null||v.focus()}else{const p=Cn()||(s==null?void 0:s.refs.domReference.current);p==null||p.focus()}}}),d&&i&&m.createElement("span",{"aria-owns":i.id,style:St}),r?be.createPortal(t,r):i?be.createPortal(t,i):null,d&&i&&m.createElement(rt,{"data-type":"outside",ref:u,onFocus:f=>{if(He(f,i)){var v;(v=h.current)==null||v.focus()}else{const p=On()||(s==null?void 0:s.refs.domReference.current);p==null||p.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1))}}}))},Sn=()=>m.useContext(Pn),$r=m.forwardRef(function(t,n){return m.createElement("button",Ve({},t,{type:"button",ref:n,tabIndex:-1,style:St}))});function Kr(e){let{context:t,children:n,order:r=["content"],guards:o=!0,initialFocus:i=0,returnFocus:s=!0,modal:c=!0,visuallyHiddenDismiss:a=!1,closeOnFocusOut:u=!0}=e;const{refs:g,nodeId:h,onOpenChange:d,events:f,dataRef:v,elements:{domReference:p,floating:y}}=t,b=ie(r),E=Ce(),x=Sn(),[T,w]=m.useState(null),M=typeof i=="number"&&i<0,k=m.useRef(null),_=m.useRef(null),S=m.useRef(!1),R=m.useRef(null),l=m.useRef(!1),D=x!=null,P=p&&p.getAttribute("role")==="combobox"&&En(p),O=m.useCallback(function(C){return C===void 0&&(C=y),C?Ue(C,nt()):[]},[y]),I=m.useCallback(C=>{const L=O(C);return b.current.map(A=>p&&A==="reference"?p:y&&A==="floating"?y:L).filter(Boolean).flat()},[p,y,b,O]);m.useEffect(()=>{if(!c)return;function C(A){if(A.key==="Tab"){O().length===0&&!P&&re(A);const F=I(),K=ct(A);b.current[0]==="reference"&&K===p&&(re(A),A.shiftKey?ye(F[F.length-1]):ye(F[1])),b.current[1]==="floating"&&K===y&&A.shiftKey&&(re(A),ye(F[0]))}}const L=J(y);return L.addEventListener("keydown",C),()=>{L.removeEventListener("keydown",C)}},[p,y,c,b,g,P,O,I]),m.useEffect(()=>{if(!u)return;function C(){l.current=!0,setTimeout(()=>{l.current=!1})}function L(A){const F=A.relatedTarget,K=!(Z(p,F)||Z(y,F)||Z(F,y)||Z(x==null?void 0:x.portalNode,F)||F!=null&&F.hasAttribute("data-floating-ui-focus-guard")||E&&(Be(E.nodesRef.current,h).find(W=>{var j,Y;return Z((j=W.context)==null?void 0:j.elements.floating,F)||Z((Y=W.context)==null?void 0:Y.elements.domReference,F)})||Fr(E.nodesRef.current,h).find(W=>{var j,Y;return((j=W.context)==null?void 0:j.elements.floating)===F||((Y=W.context)==null?void 0:Y.elements.domReference)===F})));F&&K&&!l.current&&F!==R.current&&(S.current=!0,setTimeout(()=>d(!1)))}if(y&&Te(p))return p.addEventListener("focusout",L),p.addEventListener("pointerdown",C),!c&&y.addEventListener("focusout",L),()=>{p.removeEventListener("focusout",L),p.removeEventListener("pointerdown",C),!c&&y.removeEventListener("focusout",L)}},[p,y,c,h,E,x,d,u]),m.useEffect(()=>{var C;const L=Array.from((x==null||(C=x.portalNode)==null?void 0:C.querySelectorAll("[data-floating-ui-portal]"))||[]);function A(){return[k.current,_.current].filter(Boolean)}if(y&&c){const F=[y,...L,...A()],K=Mn(b.current.includes("reference")||P?F.concat(p||[]):F);return()=>{K()}}},[p,y,c,b,x,P]),m.useEffect(()=>{if(c&&!o&&y){const C=[],L=nt(),A=Ue(J(y).body,L),F=I(),K=A.filter(W=>!F.includes(W));return K.forEach((W,j)=>{C[j]=W.getAttribute("tabindex"),W.setAttribute("tabindex","-1")}),()=>{K.forEach((W,j)=>{const Y=C[j];Y==null?W.removeAttribute("tabindex"):W.setAttribute("tabindex",Y)})}}},[y,c,o,I]),z(()=>{if(!y)return;const C=J(y);let L=s,A=!1;const F=Oe(C),K=v.current;R.current=F;const W=I(y),j=(typeof i=="number"?W[i]:i.current)||y;!M&&ye(j,{preventScroll:j===y});function Y(B){if(B.type==="escapeKey"&&g.domReference.current&&(R.current=g.domReference.current),["referencePress","escapeKey"].includes(B.type))return;const Q=B.data.returnFocus;typeof Q=="object"?(L=!0,A=Q.preventScroll):L=Q}return f.on("dismiss",Y),()=>{if(f.off("dismiss",Y),Z(y,Oe(C))&&g.domReference.current&&(R.current=g.domReference.current),L&&Te(R.current)&&!S.current)if(!g.domReference.current||l.current)ye(R.current,{cancelPrevious:!1,preventScroll:A});else{var B;K.__syncReturnFocus=!0,(B=R.current)==null||B.focus({preventScroll:A}),setTimeout(()=>{delete K.__syncReturnFocus})}}},[y,I,i,s,v,g,f,M]),z(()=>{if(x)return x.setFocusManagerState({...t,modal:c,closeOnFocusOut:u}),()=>{x.setFocusManagerState(null)}},[x,c,u,t]),z(()=>{if(M||!y)return;function C(){w(O().length)}if(C(),typeof MutationObserver=="function"){const L=new MutationObserver(C);return L.observe(y,{childList:!0,subtree:!0}),()=>{L.disconnect()}}},[y,O,M,g]);const N=o&&(D||c)&&!P;function V(C){return a&&c?m.createElement($r,{ref:C==="start"?k:_,onClick:()=>d(!1)},typeof a=="string"?a:"Dismiss"):null}return m.createElement(m.Fragment,null,N&&m.createElement(rt,{"data-type":"inside",ref:x==null?void 0:x.beforeInsideRef,onFocus:C=>{if(c){const A=I();ye(r[0]==="reference"?A[0]:A[A.length-1])}else if(x!=null&&x.preserveTabOrder&&x.portalNode)if(S.current=!1,He(C,x.portalNode)){const A=On()||p;A==null||A.focus()}else{var L;(L=x.beforeOutsideRef.current)==null||L.focus()}}}),P?null:V("start"),m.cloneElement(n,T===0||r.includes("floating")?{tabIndex:0}:{}),V("end"),N&&m.createElement(rt,{"data-type":"inside",ref:x==null?void 0:x.afterInsideRef,onFocus:C=>{if(c)ye(I()[0]);else if(x!=null&&x.preserveTabOrder&&x.portalNode)if(S.current=!0,He(C,x.portalNode)){const A=Cn()||p;A==null||A.focus()}else{var L;(L=x.afterOutsideRef.current)==null||L.focus()}}}))}const je="data-floating-ui-scroll-lock",jr=m.forwardRef(function(t,n){let{lockScroll:r=!1,...o}=t;return z(()=>{var i,s;if(!r||document.body.hasAttribute(je))return;document.body.setAttribute(je,"");const u=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",g=window.innerWidth-document.documentElement.clientWidth;if(!/iP(hone|ad|od)|iOS/.test(Pt()))return Object.assign(document.body.style,{overflow:"hidden",[u]:g+"px"}),()=>{document.body.removeAttribute(je),Object.assign(document.body.style,{overflow:"",[u]:""})};const h=((i=window.visualViewport)==null?void 0:i.offsetLeft)||0,d=((s=window.visualViewport)==null?void 0:s.offsetTop)||0,f=window.pageXOffset,v=window.pageYOffset;return Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:-(v-Math.floor(d))+"px",left:-(f-Math.floor(h))+"px",right:"0",[u]:g+"px"}),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[u]:""}),document.body.removeAttribute(je),window.scrollTo(f,v)}},[r]),m.createElement("div",Ve({ref:n},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function Xt(e){return Te(e.target)&&e.target.tagName==="BUTTON"}function qt(e){return En(e)}const zr=function(e,t){let{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:c="click",toggle:a=!0,ignoreMouse:u=!1,keyboardHandlers:g=!0}=t===void 0?{}:t;const h=m.useRef();return m.useMemo(()=>s?{reference:{onPointerDown(d){h.current=d.pointerType},onMouseDown(d){d.button===0&&(tt(h.current,!0)&&u||c!=="click"&&(n?a&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")&&r(!1):(d.preventDefault(),r(!0)),o.current.openEvent=d.nativeEvent))},onClick(d){if(!o.current.__syncReturnFocus){if(c==="mousedown"&&h.current){h.current=void 0;return}tt(h.current,!0)&&u||(n?a&&(!o.current.openEvent||o.current.openEvent.type==="click")&&r(!1):r(!0),o.current.openEvent=d.nativeEvent)}},onKeyDown(d){h.current=void 0,g&&(Xt(d)||(d.key===" "&&!qt(i)&&d.preventDefault(),d.key==="Enter"&&(n?a&&r(!1):r(!0))))},onKeyUp(d){g&&(Xt(d)||qt(i)||d.key===" "&&(n?a&&r(!1):r(!0)))}}}:{},[s,o,c,u,g,i,a,n,r])};function Ge(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const Yr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Xr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},qr=function(e){var t,n;return e===void 0&&(e=!0),{escapeKeyBubbles:typeof e=="boolean"?e:(t=e.escapeKey)!=null?t:!0,outsidePressBubbles:typeof e=="boolean"?e:(n=e.outsidePress)!=null?n:!0}},Gr=function(e,t){let{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:s,domReference:c,floating:a},dataRef:u}=e,{enabled:g=!0,escapeKey:h=!0,outsidePress:d=!0,outsidePressEvent:f="pointerdown",referencePress:v=!1,referencePressEvent:p="pointerdown",ancestorScroll:y=!1,bubbles:b=!0}=t===void 0?{}:t;const E=Ce(),x=De()!=null,T=Fe(typeof d=="function"?d:()=>!1),w=typeof d=="function"?T:d,M=m.useRef(!1),{escapeKeyBubbles:k,outsidePressBubbles:_}=qr(b);return m.useEffect(()=>{if(!n||!g)return;u.current.__escapeKeyBubbles=k,u.current.__outsidePressBubbles=_;function S(O){if(O.key==="Escape"){const I=E?Be(E.nodesRef.current,i):[];if(I.length>0){let N=!0;if(I.forEach(V=>{var C;if((C=V.context)!=null&&C.open&&!V.context.dataRef.current.__escapeKeyBubbles){N=!1;return}}),!N)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function R(O){const I=M.current;if(M.current=!1,I||typeof w=="function"&&!w(O))return;const N=ct(O);if(Te(N)&&a){const L=a.ownerDocument.defaultView||window,A=N.scrollWidth>N.clientWidth,F=N.scrollHeight>N.clientHeight;let K=F&&O.offsetX>N.clientWidth;if(F&&L.getComputedStyle(N).direction==="rtl"&&(K=O.offsetX<=N.offsetWidth-N.clientWidth),K||A&&O.offsetY>N.clientHeight)return}const V=E&&Be(E.nodesRef.current,i).some(L=>{var A;return Ge(O,(A=L.context)==null?void 0:A.elements.floating)});if(Ge(O,a)||Ge(O,c)||V)return;const C=E?Be(E.nodesRef.current,i):[];if(C.length>0){let L=!0;if(C.forEach(A=>{var F;if((F=A.context)!=null&&F.open&&!A.context.dataRef.current.__outsidePressBubbles){L=!1;return}}),!L)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:x?{preventScroll:!0}:yn(O)||bn(O)}}),r(!1)}function l(){r(!1)}const D=J(a);h&&D.addEventListener("keydown",S),w&&D.addEventListener(f,R);let P=[];return y&&(oe(c)&&(P=pe(c)),oe(a)&&(P=P.concat(pe(a))),!oe(s)&&s&&s.contextElement&&(P=P.concat(pe(s.contextElement)))),P=P.filter(O=>{var I;return O!==((I=D.defaultView)==null?void 0:I.visualViewport)}),P.forEach(O=>{O.addEventListener("scroll",l,{passive:!0})}),()=>{h&&D.removeEventListener("keydown",S),w&&D.removeEventListener(f,R),P.forEach(O=>{O.removeEventListener("scroll",l)})}},[u,a,c,s,h,w,f,o,E,i,n,r,y,g,k,_,x]),m.useEffect(()=>{M.current=!1},[w,f]),m.useMemo(()=>g?{reference:{[Yr[p]]:()=>{v&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[Xr[f]]:()=>{M.current=!0}}}:{},[g,o,v,f,p,r])},Ur=function(e,t){let{open:n,onOpenChange:r,dataRef:o,events:i,refs:s,elements:{floating:c,domReference:a}}=e,{enabled:u=!0,keyboardOnly:g=!0}=t===void 0?{}:t;const h=m.useRef(""),d=m.useRef(!1),f=m.useRef();return m.useEffect(()=>{if(!u)return;const p=J(c).defaultView||window;function y(){!n&&Te(a)&&a===Oe(J(a))&&(d.current=!0)}return p.addEventListener("blur",y),()=>{p.removeEventListener("blur",y)}},[c,a,n,u]),m.useEffect(()=>{if(!u)return;function v(p){(p.type==="referencePress"||p.type==="escapeKey")&&(d.current=!0)}return i.on("dismiss",v),()=>{i.off("dismiss",v)}},[i,u]),m.useEffect(()=>()=>{clearTimeout(f.current)},[]),m.useMemo(()=>u?{reference:{onPointerDown(v){let{pointerType:p}=v;h.current=p,d.current=!!(p&&g)},onMouseLeave(){d.current=!1},onFocus(v){var p;d.current||v.type==="focus"&&((p=o.current.openEvent)==null?void 0:p.type)==="mousedown"&&o.current.openEvent&&Ge(o.current.openEvent,a)||(o.current.openEvent=v.nativeEvent,r(!0))},onBlur(v){d.current=!1;const p=v.relatedTarget,y=oe(p)&&p.hasAttribute("data-floating-ui-focus-guard")&&p.getAttribute("data-type")==="outside";f.current=setTimeout(()=>{Z(s.floating.current,p)||Z(a,p)||y||r(!1)})}}}:{},[u,g,a,s,o,r])};let Gt=!1;const Lt="ArrowUp",lt="ArrowDown",Le="ArrowLeft",$e="ArrowRight";function ze(e,t,n){return Math.floor(e/t)!==n}function Ne(e,t){return t<0||t>=e.current.length}function G(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current;let c=n;do{var a,u;c=c+(r?-i:i)}while(c>=0&&c<=s.length-1&&(o?o.includes(c):s[c]==null||(a=s[c])!=null&&a.hasAttribute("disabled")||((u=s[c])==null?void 0:u.getAttribute("aria-disabled"))==="true"));return c}function ut(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function Ut(e,t){return ut(t,e===Lt||e===lt,e===Le||e===$e)}function dt(e,t,n){return ut(t,e===lt,n?e===Le:e===$e)||e==="Enter"||e==" "||e===""}function Zr(e,t,n){return ut(t,n?e===Le:e===$e,e===lt)}function Jr(e,t,n){return ut(t,n?e===$e:e===Le,e===Lt)}function mt(e,t){return G(e,{disabledIndices:t})}function Zt(e,t){return G(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}const Qr=function(e,t){let{open:n,onOpenChange:r,refs:o,elements:{domReference:i}}=e,{listRef:s,activeIndex:c,onNavigate:a=()=>{},enabled:u=!0,selectedIndex:g=null,allowEscape:h=!1,loop:d=!1,nested:f=!1,rtl:v=!1,virtual:p=!1,focusItemOnOpen:y="auto",focusItemOnHover:b=!0,openOnArrowKeyDown:E=!0,disabledIndices:x=void 0,orientation:T="vertical",cols:w=1,scrollItemIntoView:M=!0}=t===void 0?{listRef:{current:[]},activeIndex:null,onNavigate:()=>{}}:t;const k=De(),_=Ce(),S=Fe(a),R=m.useRef(y),l=m.useRef(g??-1),D=m.useRef(null),P=m.useRef(!0),O=m.useRef(S),I=m.useRef(n),N=m.useRef(!1),V=m.useRef(!1),C=ie(x),L=ie(n),A=ie(M),[F,K]=m.useState(),W=m.useCallback(function(B,Q,X){X===void 0&&(X=!1);const q=B.current[Q.current];p?K(q==null?void 0:q.id):ye(q,{preventScroll:!0,sync:wn()&&yt()?Gt||N.current:!1}),requestAnimationFrame(()=>{const Pe=A.current;Pe&&q&&(X||!P.current)&&(q.scrollIntoView==null||q.scrollIntoView(typeof Pe=="boolean"?{block:"nearest",inline:"nearest"}:Pe))})},[p,A]);z(()=>{document.createElement("div").focus({get preventScroll(){return Gt=!0,!1}})},[]),z(()=>{u&&(n?R.current&&g!=null&&(V.current=!0,S(g)):I.current&&(l.current=-1,O.current(null)))},[u,n,g,S]),z(()=>{if(u&&n)if(c==null){if(N.current=!1,g!=null)return;I.current&&(l.current=-1,W(s,l)),!I.current&&R.current&&(D.current!=null||R.current===!0&&D.current==null)&&(l.current=D.current==null||dt(D.current,T,v)||f?mt(s,C.current):Zt(s,C.current),S(l.current))}else Ne(s,c)||(l.current=c,W(s,l,V.current),V.current=!1)},[u,n,c,g,f,s,T,v,S,W,C]),z(()=>{if(u&&I.current&&!n){var B,Q;const X=_==null||(B=_.nodesRef.current.find(q=>q.id===k))==null||(Q=B.context)==null?void 0:Q.elements.floating;X&&!Z(X,Oe(J(X)))&&X.focus({preventScroll:!0})}},[u,n,_,k]),z(()=>{D.current=null,O.current=S,I.current=n});const j=c!=null,Y=m.useMemo(()=>{function B(X){if(!n)return;const q=s.current.indexOf(X);q!==-1&&S(q)}return{onFocus(X){let{currentTarget:q}=X;B(q)},onClick:X=>{let{currentTarget:q}=X;return q.focus({preventScroll:!0})},...b&&{onMouseMove(X){let{currentTarget:q}=X;B(q)},onPointerLeave(){if(P.current&&(l.current=-1,W(s,l),be.flushSync(()=>S(null)),!p)){var X;(X=o.floating.current)==null||X.focus({preventScroll:!0})}}}}},[n,o,W,b,s,S,p]);return m.useMemo(()=>{if(!u)return{};const B=C.current;function Q(H){if(P.current=!1,N.current=!0,!L.current&&H.currentTarget===o.floating.current)return;if(f&&Jr(H.key,T,v)){re(H),r(!1),Te(i)&&i.focus();return}const se=l.current,ve=mt(s,B),ne=Zt(s,B);if(H.key==="Home"&&(l.current=ve,S(l.current)),H.key==="End"&&(l.current=ne,S(l.current)),w>1){const $=l.current;if(H.key===Lt){if(re(H),$===-1)l.current=ne;else if(l.current=G(s,{startingIndex:$,amount:w,decrement:!0,disabledIndices:B}),d&&($-w<ve||l.current<0)){const ge=$%w,ke=ne%w,Mt=ne-(ke-ge);ke===ge?l.current=ne:l.current=ke>ge?Mt:Mt-w}Ne(s,l.current)&&(l.current=$),S(l.current)}if(H.key===lt&&(re(H),$===-1?l.current=ve:(l.current=G(s,{startingIndex:$,amount:w,disabledIndices:B}),d&&$+w>ne&&(l.current=G(s,{startingIndex:$%w-w,amount:w,disabledIndices:B}))),Ne(s,l.current)&&(l.current=$),S(l.current)),T==="both"){const ge=Math.floor($/w);H.key===$e&&(re(H),$%w!==w-1?(l.current=G(s,{startingIndex:$,disabledIndices:B}),d&&ze(l.current,w,ge)&&(l.current=G(s,{startingIndex:$-$%w-1,disabledIndices:B}))):d&&(l.current=G(s,{startingIndex:$-$%w-1,disabledIndices:B})),ze(l.current,w,ge)&&(l.current=$)),H.key===Le&&(re(H),$%w!==0?(l.current=G(s,{startingIndex:$,disabledIndices:B,decrement:!0}),d&&ze(l.current,w,ge)&&(l.current=G(s,{startingIndex:$+(w-$%w),decrement:!0,disabledIndices:B}))):d&&(l.current=G(s,{startingIndex:$+(w-$%w),decrement:!0,disabledIndices:B})),ze(l.current,w,ge)&&(l.current=$));const ke=Math.floor(ne/w)===ge;Ne(s,l.current)&&(d&&ke?l.current=H.key===Le?ne:G(s,{startingIndex:$-$%w-1,disabledIndices:B}):l.current=$),S(l.current);return}}if(Ut(H.key,T)){if(re(H),n&&!p&&Oe(H.currentTarget.ownerDocument)===H.currentTarget){l.current=dt(H.key,T,v)?ve:ne,S(l.current);return}dt(H.key,T,v)?d?l.current=se>=ne?h&&se!==s.current.length?-1:ve:G(s,{startingIndex:se,disabledIndices:B}):l.current=Math.min(ne,G(s,{startingIndex:se,disabledIndices:B})):d?l.current=se<=ve?h&&se!==-1?s.current.length:ne:G(s,{startingIndex:se,decrement:!0,disabledIndices:B}):l.current=Math.max(ve,G(s,{startingIndex:se,decrement:!0,disabledIndices:B})),Ne(s,l.current)?S(null):S(l.current)}}function X(H){y==="auto"&&yn(H.nativeEvent)&&(R.current=!0)}function q(H){R.current=y,y==="auto"&&bn(H.nativeEvent)&&(R.current=!0)}const Pe=p&&n&&j&&{"aria-activedescendant":F};return{reference:{...Pe,onKeyDown(H){P.current=!1;const se=H.key.indexOf("Arrow")===0;if(p&&n)return Q(H);if(!n&&!E&&se)return;if((se||H.key==="Enter"||H.key===" "||H.key==="")&&(D.current=H.key),f){Zr(H.key,T,v)&&(re(H),n?(l.current=mt(s,B),S(l.current)):r(!0));return}Ut(H.key,T)&&(g!=null&&(l.current=g),re(H),!n&&E?r(!0):Q(H),n&&S(l.current))},onFocus(){n&&S(null)},onPointerDown:q,onMouseDown:X,onClick:X},floating:{"aria-orientation":T==="both"?void 0:T,...Pe,onKeyDown:Q,onPointerMove(){P.current=!0}},item:Y}},[i,o,F,C,L,s,u,T,v,p,n,j,f,g,E,h,w,d,y,S,r,Y])};function eo(e){return m.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const to=function(e,t){let{open:n}=e,{enabled:r=!0,role:o="dialog"}=t===void 0?{}:t;const i=_e(),s=_e();return m.useMemo(()=>{const c={id:i,role:o};return r?o==="tooltip"?{reference:{"aria-describedby":n?i:void 0},floating:c}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":o==="alertdialog"?"dialog":o,"aria-controls":n?i:void 0,...o==="listbox"&&{role:"combobox"},...o==="menu"&&{id:s}},floating:{...c,...o==="menu"&&{"aria-labelledby":s}}}:{}},[r,o,n,i,s])},Jt=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function no(e,t){const[n,r]=m.useState(e);return e&&!n&&r(!0),m.useEffect(()=>{if(!e){const o=setTimeout(()=>r(!1),t);return()=>clearTimeout(o)}},[e,t]),n}function In(e,t){let{open:n,elements:{floating:r}}=e,{duration:o=250}=t===void 0?{}:t;const s=(typeof o=="number"?o:o.close)||0,[c,a]=m.useState(!1),[u,g]=m.useState("unmounted"),h=no(n,s);return z(()=>{c&&!h&&g("unmounted")},[c,h]),z(()=>{if(r)if(n){g("initial");const d=requestAnimationFrame(()=>{g("open")});return()=>{cancelAnimationFrame(d)}}else a(!0),g("close")},[n,r]),{isMounted:h,status:u}}function ro(e,t){let{initial:n={opacity:0},open:r,close:o,common:i,duration:s=250}=t===void 0?{}:t;const c=e.placement,a=c.split("-")[0],[u,g]=m.useState({}),{isMounted:h,status:d}=In(e,{duration:s}),f=ie(n),v=ie(r),p=ie(o),y=ie(i),b=typeof s=="number",E=(b?s:s.open)||0,x=(b?s:s.close)||0;return z(()=>{const T={side:a,placement:c},w=f.current,M=p.current,k=v.current,_=y.current,S=typeof w=="function"?w(T):w,R=typeof M=="function"?M(T):M,l=typeof _=="function"?_(T):_,D=(typeof k=="function"?k(T):k)||Object.keys(S).reduce((P,O)=>(P[O]="",P),{});if(d==="initial"&&g(P=>({transitionProperty:P.transitionProperty,...l,...S})),d==="open"&&g({transitionProperty:Object.keys(D).map(Jt).join(","),transitionDuration:E+"ms",...l,...D}),d==="close"){const P=R||S;g({transitionProperty:Object.keys(P).map(Jt).join(","),transitionDuration:x+"ms",...l,...P})}},[a,c,x,p,f,v,y,E,d]),{isMounted:h,styles:u}}const oo=function(e,t){var n;let{open:r,dataRef:o}=e,{listRef:i,activeIndex:s,onMatch:c=()=>{},enabled:a=!0,findMatch:u=null,resetMs:g=1e3,ignoreKeys:h=[],selectedIndex:d=null}=t===void 0?{listRef:{current:[]},activeIndex:null}:t;const f=m.useRef(),v=m.useRef(""),p=m.useRef((n=d??s)!=null?n:-1),y=m.useRef(null),b=Fe(c),E=ie(u),x=ie(h);return z(()=>{r&&(clearTimeout(f.current),y.current=null,v.current="")},[r]),z(()=>{if(r&&v.current===""){var T;p.current=(T=d??s)!=null?T:-1}},[r,d,s]),m.useMemo(()=>{if(!a)return{};function T(w){const M=ct(w.nativeEvent);if(oe(M)&&(Oe(J(M))!==w.currentTarget&&M.closest('[role="dialog"],[role="menu"],[role="listbox"],[role="tree"],[role="grid"]')!==w.currentTarget))return;v.current.length>0&&v.current[0]!==" "&&(o.current.typing=!0,w.key===" "&&re(w));const k=i.current;if(k==null||x.current.includes(w.key)||w.key.length!==1||w.ctrlKey||w.metaKey||w.altKey)return;k.every(P=>{var O,I;return P?((O=P[0])==null?void 0:O.toLocaleLowerCase())!==((I=P[1])==null?void 0:I.toLocaleLowerCase()):!0})&&v.current===w.key&&(v.current="",p.current=y.current),v.current+=w.key,clearTimeout(f.current),f.current=setTimeout(()=>{v.current="",p.current=y.current,o.current.typing=!1},g);const S=p.current,R=[...k.slice((S||0)+1),...k.slice(0,(S||0)+1)],l=E.current?E.current(R,v.current):R.find(P=>(P==null?void 0:P.toLocaleLowerCase().indexOf(v.current.toLocaleLowerCase()))===0),D=l?k.indexOf(l):-1;D!==-1&&(b(D),y.current=D)}return{reference:{onKeyDown:T},floating:{onKeyDown:T}}},[a,o,i,g,x,E,b])};function Qt(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const io=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:s=0,minItemsVisible:c=4,referenceOverflowThreshold:a=0,scrollRef:u,...g}=e,{rects:h,elements:{floating:d}}=t,f=n.current[s];if(!f)return{};const v={...t,...await dn(-f.offsetTop-h.reference.height/2-f.offsetHeight/2-i).fn(t)},p=(u==null?void 0:u.current)||d,y=await Ye(Qt(v,p.scrollHeight),g),b=await Ye(v,{...g,elementContext:"reference"}),E=Math.max(0,y.top),x=v.y+E,T=Math.max(0,p.scrollHeight-E-Math.max(0,y.bottom));return p.style.maxHeight=T+"px",p.scrollTop=E,o&&(p.offsetHeight<f.offsetHeight*Math.min(c,n.current.length-1)-1||b.top>=-a||b.bottom>=-a?be.flushSync(()=>o(!0)):be.flushSync(()=>o(!1))),r&&(r.current=await Ye(Qt({...v,y:x},p.offsetHeight),g)),{y:x}}}),so=(e,t)=>{let{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:s,onChange:c}=t;const a=Fe(c),u=m.useRef(!1),g=m.useRef(null),h=m.useRef(null);return m.useEffect(()=>{if(!o)return;function d(v){if(v.ctrlKey||!f||i.current==null)return;const p=v.deltaY,y=i.current.top>=-.5,b=i.current.bottom>=-.5,E=f.scrollHeight-f.clientHeight,x=p<0?-1:1,T=p<0?"max":"min";f.scrollHeight<=f.clientHeight||(!y&&p>0||!b&&p<0?(v.preventDefault(),be.flushSync(()=>{a(w=>w+Math[T](p,E*x))})):/firefox/i.test(vn())&&(f.scrollTop+=p))}const f=(s==null?void 0:s.current)||r.floating;if(n&&f)return f.addEventListener("wheel",d),requestAnimationFrame(()=>{g.current=f.scrollTop,i.current!=null&&(h.current={...i.current})}),()=>{g.current=null,h.current=null,f.removeEventListener("wheel",d)}},[o,n,r.floating,i,s,a]),m.useMemo(()=>o?{floating:{onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const d=(s==null?void 0:s.current)||r.floating;if(!(!i.current||!d||!u.current)){if(g.current!==null){const f=d.scrollTop-g.current;(i.current.bottom<-.5&&f<-1||i.current.top<-.5&&f>1)&&be.flushSync(()=>a(v=>v+f))}requestAnimationFrame(()=>{g.current=d.scrollTop})}}}}:{},[o,i,r.floating,s,a])};function co(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,c=i-1;s<i;c=s++){const[a,u]=t[s]||[0,0],[g,h]=t[c]||[0,0];u>=r!=h>=r&&n<=(g-a)*(r-u)/(h-u)+a&&(o=!o)}return o}function lo(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function uo(e){let{restMs:t=0,buffer:n=.5,blockPointerEvents:r=!1}=e===void 0?{}:e,o,i=!1,s=!1;const c=a=>{let{x:u,y:g,placement:h,elements:d,onClose:f,nodeId:v,tree:p}=a;return function(b){function E(){clearTimeout(o),f()}if(clearTimeout(o),!d.domReference||!d.floating||h==null||u==null||g==null)return;const{clientX:x,clientY:T}=b,w=[x,T],M=ct(b),k=b.type==="mouseleave",_=Z(d.floating,M),S=Z(d.domReference,M),R=d.domReference.getBoundingClientRect(),l=d.floating.getBoundingClientRect(),D=h.split("-")[0],P=u>l.right-l.width/2,O=g>l.bottom-l.height/2,I=lo(w,R);if(_&&(s=!0),S&&(s=!1),S&&!k){s=!0;return}if(k&&oe(b.relatedTarget)&&Z(d.floating,b.relatedTarget)||p&&Be(p.nodesRef.current,v).some(L=>{let{context:A}=L;return A==null?void 0:A.open}))return;if(D==="top"&&g>=R.bottom-1||D==="bottom"&&g<=R.top+1||D==="left"&&u>=R.right-1||D==="right"&&u<=R.left+1)return E();let N=[];switch(D){case"top":N=[[l.left,R.top+1],[l.left,l.bottom-1],[l.right,l.bottom-1],[l.right,R.top+1]],i=x>=l.left&&x<=l.right&&T>=l.top&&T<=R.top+1;break;case"bottom":N=[[l.left,l.top+1],[l.left,R.bottom-1],[l.right,R.bottom-1],[l.right,l.top+1]],i=x>=l.left&&x<=l.right&&T>=R.bottom-1&&T<=l.bottom;break;case"left":N=[[l.right-1,l.bottom],[l.right-1,l.top],[R.left+1,l.top],[R.left+1,l.bottom]],i=x>=l.left&&x<=R.left+1&&T>=l.top&&T<=l.bottom;break;case"right":N=[[R.right-1,l.bottom],[R.right-1,l.top],[l.left+1,l.top],[l.left+1,l.bottom]],i=x>=R.right-1&&x<=l.right&&T>=l.top&&T<=l.bottom;break}function V(L){let[A,F]=L;const K=l.width>R.width,W=l.height>R.height;switch(D){case"top":{const j=[K?A+n/2:P?A+n*4:A-n*4,F+n+1],Y=[K?A-n/2:P?A+n*4:A-n*4,F+n+1],B=[[l.left,P||K?l.bottom-n:l.top],[l.right,P?K?l.bottom-n:l.top:l.bottom-n]];return[j,Y,...B]}case"bottom":{const j=[K?A+n/2:P?A+n*4:A-n*4,F-n],Y=[K?A-n/2:P?A+n*4:A-n*4,F-n],B=[[l.left,P||K?l.top+n:l.bottom],[l.right,P?K?l.top+n:l.bottom:l.top+n]];return[j,Y,...B]}case"left":{const j=[A+n+1,W?F+n/2:O?F+n*4:F-n*4],Y=[A+n+1,W?F-n/2:O?F+n*4:F-n*4];return[...[[O||W?l.right-n:l.left,l.top],[O?W?l.right-n:l.left:l.right-n,l.bottom]],j,Y]}case"right":{const j=[A-n,W?F+n/2:O?F+n*4:F-n*4],Y=[A-n,W?F-n/2:O?F+n*4:F-n*4],B=[[O||W?l.left+n:l.right,l.top],[O?W?l.left+n:l.right:l.left+n,l.bottom]];return[j,Y,...B]}}}const C=i?N:V([u,g]);if(!i){if(s&&!I)return E();co([x,T],C)?t&&!s&&(o=setTimeout(E,t)):E()}}};return c.__options={blockPointerEvents:r},c}function ao(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,o=Er(e),i=Ce(),s=m.useRef(null),c=m.useRef({}),a=m.useState(()=>gn())[0],[u,g]=m.useState(null),h=m.useCallback(b=>{const E=oe(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;o.refs.setReference(E)},[o.refs]),d=m.useCallback(b=>{(oe(b)||b===null)&&(s.current=b,g(b)),(oe(o.refs.reference.current)||o.refs.reference.current===null||b!==null&&!oe(b))&&o.refs.setReference(b)},[o.refs]),f=m.useMemo(()=>({...o.refs,setReference:d,setPositionReference:h,domReference:s}),[o.refs,d,h]),v=m.useMemo(()=>({...o.elements,domReference:u}),[o.elements,u]),p=Fe(n),y=m.useMemo(()=>({...o,refs:f,elements:v,dataRef:c,nodeId:r,events:a,open:t,onOpenChange:p}),[o,r,a,t,p,f,v]);return z(()=>{const b=i==null?void 0:i.nodesRef.current.find(E=>E.id===r);b&&(b.context=y)}),m.useMemo(()=>({...o,context:y,refs:f,reference:d,positionReference:h}),[o,f,y,d,h])}function gt(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(s=>{let[c,a]=s;if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof a=="function"){var u;(u=r.get(c))==null||u.push(a),o[c]=function(){for(var g,h=arguments.length,d=new Array(h),f=0;f<h;f++)d[f]=arguments[f];(g=r.get(c))==null||g.forEach(v=>v(...d))}}}else o[c]=a}),o),{})}}const fo=function(e){e===void 0&&(e=[]);const t=e,n=m.useCallback(i=>gt(i,e,"reference"),t),r=m.useCallback(i=>gt(i,e,"floating"),t),o=m.useCallback(i=>gt(i,e,"item"),e.map(i=>i==null?void 0:i.item));return m.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])},mo=Object.freeze(Object.defineProperty({__proto__:null,FloatingDelayGroup:Mr,FloatingFocusManager:Kr,FloatingNode:Ar,FloatingOverlay:jr,FloatingPortal:Wr,FloatingTree:Sr,arrow:Rr,autoPlacement:pr,autoUpdate:gr,computePosition:mn,detectOverflow:Ye,flip:vr,getOverflowAncestors:pe,hide:br,inline:wr,inner:io,limitShift:xr,offset:dn,platform:fn,safePolygon:uo,shift:hr,size:yr,useClick:zr,useDelayGroup:Dr,useDelayGroupContext:Rn,useDismiss:Gr,useFloating:ao,useFloatingNodeId:Pr,useFloatingParentNodeId:De,useFloatingPortalNode:An,useFloatingTree:Ce,useFocus:Ur,useHover:Lr,useId:_e,useInnerOffset:so,useInteractions:fo,useListNavigation:Qr,useMergeRefs:eo,useRole:to,useTransitionStatus:In,useTransitionStyles:ro,useTypeahead:oo},Symbol.toStringTag,{value:"Module"})),bo=Ln(mo);export{Wt as a,gr as b,mn as c,vr as f,fe as g,ae as i,dn as o,bo as r};
